<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>AGENTS.md - AI Agent Instructions for customLayout • customLayout</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><script src="extra.js"></script><meta property="og:title" content="AGENTS.md - AI Agent Instructions for customLayout"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-title-body">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">customLayout</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="index.html">Intro</a>
</li>
<li>
  <a href="articles/Roadmap.html">Roadmap</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="articles/customlayout-cookbook.html">Cookbook</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="articles/comparison-with-other-packages.html">Comparison with patchwork and cowplot</a>
    </li>
    <li>
      <a href="articles/layouts-for-officer-power-point-document.html">Layouts for officer's PowerPoint documents.</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/zzawadz/customLayout/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>AGENTS.md - AI Agent Instructions for customLayout</h1>
    </div>

<div id="agentsmd---ai-agent-instructions-for-customlayout" class="section level1">

<p>This document provides guidance for AI agents working with the customLayout R package.</p>
<div class="section level2">
<h2 id="package-overview">Package Overview<a class="anchor" aria-label="anchor" href="#package-overview"></a></h2>
<p><strong>customLayout</strong> is an R package that extends the basic <code>layout</code> function from the graphics package to create complex drawing areas by combining simpler layouts. It supports:</p>
<ul><li>Base graphics systems</li>
<li>Grid graphics (ggplot2, gridExtra)</li>
<li>PowerPoint slides via the <code>officer</code> package</li>
</ul><p><strong>Version:</strong> 0.3.5 <strong>License:</strong> GPL-3 <strong>Author:</strong> Zygmunt Zawadzki</p>
</div>
<div class="section level2">
<h2 id="project-structure">Project Structure<a class="anchor" aria-label="anchor" href="#project-structure"></a></h2>
<pre><code>customLayout/
├── R/                      # Source code
│   ├── Layout.R            # Core layout creation and combination
│   ├── officer.R           # PowerPoint integration
│   ├── asserts.R           # Assertion/validation functions
│   ├── utils.R             # Utility functions
│   ├── flextable.R         # Table formatting for PowerPoint
│   ├── splitField.R        # Field splitting functionality
│   └── repColsRows.R       # Row/column repetition helpers
├── tests/
│   ├── testthat.R          # Test setup
│   └── testthat/           # Test files
├── vignettes/              # R Markdown vignettes
├── man/                    # Generated documentation (do not edit)
├── DESCRIPTION             # Package metadata
├── NAMESPACE               # Exports (auto-generated by roxygen2)
└── _pkgdown.yml            # Website configuration</code></pre>
</div>
<div class="section level2">
<h2 id="key-functions">Key Functions<a class="anchor" aria-label="anchor" href="#key-functions"></a></h2>
<div class="section level3">
<h3 id="core-layout-functions">Core Layout Functions<a class="anchor" aria-label="anchor" href="#core-layout-functions"></a></h3>
<table class="table"><thead><tr><th>Function</th>
<th>Purpose</th>
</tr></thead><tbody><tr><td><code><a href="reference/lay_new.html">lay_new()</a></code></td>
<td>Create a new CustomLayout object from a matrix</td>
</tr><tr><td><code><a href="reference/lay_show.html">lay_show()</a></code></td>
<td>Display layout structure on graphics device</td>
</tr><tr><td><code><a href="reference/lay_set.html">lay_set()</a></code></td>
<td>Initialize drawing area with the layout</td>
</tr><tr><td><code><a href="reference/lay_grid.html">lay_grid()</a></code></td>
<td>Use layout with grid graphics (ggplot2)</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="layout-combination-functions">Layout Combination Functions<a class="anchor" aria-label="anchor" href="#layout-combination-functions"></a></h3>
<table class="table"><thead><tr><th>Function</th>
<th>Purpose</th>
</tr></thead><tbody><tr><td><code><a href="reference/lay_bind_col.html">lay_bind_col()</a></code></td>
<td>Combine two layouts horizontally</td>
</tr><tr><td><code><a href="reference/lay_bind_row.html">lay_bind_row()</a></code></td>
<td>Combine two layouts vertically</td>
</tr><tr><td><code><a href="reference/lay_split_field.html">lay_split_field()</a></code></td>
<td>Split a field using another layout</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="powerpoint-functions-phl_">PowerPoint Functions (phl_*)<a class="anchor" aria-label="anchor" href="#powerpoint-functions-phl_"></a></h3>
<table class="table"><thead><tr><th>Function</th>
<th>Purpose</th>
</tr></thead><tbody><tr><td><code><a href="reference/phl_layout.html">phl_layout()</a></code></td>
<td>Create layout for PowerPoint slides</td>
</tr><tr><td><code><a href="reference/phl_with_gg.html">phl_with_gg()</a></code></td>
<td>Add ggplot to PowerPoint</td>
</tr><tr><td><code><a href="reference/phl_with_vg.html">phl_with_vg()</a></code></td>
<td>Add vector graphics to PowerPoint</td>
</tr><tr><td><code><a href="reference/phl_with_plot.html">phl_with_plot()</a></code></td>
<td>Add base plot as PNG</td>
</tr><tr><td><code><a href="reference/phl_with_text.html">phl_with_text()</a></code></td>
<td>Add text to placeholder</td>
</tr><tr><td><code><a href="reference/phl_with_table.html">phl_with_table()</a></code></td>
<td>Add data.frame as table</td>
</tr><tr><td><code><a href="reference/phl_with_flextable.html">phl_with_flextable()</a></code></td>
<td>Add formatted flextable</td>
</tr></tbody></table></div>
</div>
<div class="section level2">
<h2 id="development-workflow">Development Workflow<a class="anchor" aria-label="anchor" href="#development-workflow"></a></h2>
<div class="section level3">
<h3 id="running-tests">Running Tests<a class="anchor" aria-label="anchor" href="#running-tests"></a></h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run all tests</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">test</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run specific test file</span></span>
<span><span class="fu">testthat</span><span class="fu">::</span><span class="fu"><a href="https://testthat.r-lib.org/reference/test_file.html" class="external-link">test_file</a></span><span class="op">(</span><span class="st">"tests/testthat/test-basic.R"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="building-and-checking">Building and Checking<a class="anchor" aria-label="anchor" href="#building-and-checking"></a></h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Build documentation</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check package</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">check</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build package</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/build.html" class="external-link">build</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="testing-approach">Testing Approach<a class="anchor" aria-label="anchor" href="#testing-approach"></a></h3>
<p>The package uses: - <code>testthat</code> for unit testing - <code>vdiffr</code> for visual regression testing - Custom <code>expect_pptx_identical()</code> for PowerPoint comparison</p>
<p>Tests are located in <code>tests/testthat/</code>: - <code>test-basic.R</code> - Core layout functionality - <code>test-officer.R</code> - PowerPoint integration - <code>test-asserts.R</code> - Assertion functions - <code>test-flextable.R</code> - Table formatting - <code>test-split-field.R</code> - Field splitting - <code>test-reps-functions.R</code> - Repetition helpers - <code>test-utils.R</code> - Utility functions</p>
</div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h2>
<div class="section level3">
<h3 id="roxygen2">Roxygen2<a class="anchor" aria-label="anchor" href="#roxygen2"></a></h3>
<p>All functions are documented using roxygen2 comments. After modifying documentation:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a></h3>
<p>Located in <code>vignettes/</code>: - <code>customlayout-cookbook.Rmd</code> - Practical recipes - <code>layouts-for-officer-power-point-document.Rmd</code> - PowerPoint guide - <code>Roadmap.Rmd</code> - Future development plans</p>
</div>
</div>
<div class="section level2">
<h2 id="architecture-notes">Architecture Notes<a class="anchor" aria-label="anchor" href="#architecture-notes"></a></h2>
<div class="section level3">
<h3 id="s3-classes">S3 Classes<a class="anchor" aria-label="anchor" href="#s3-classes"></a></h3>
<ul><li>
<strong>CustomLayout</strong>: Core layout object with <code>mat</code>, <code>widths</code>, <code>heights</code>
</li>
<li>
<strong>OfficerCustomLayout</strong>: Layout positions for PowerPoint</li>
</ul></div>
<div class="section level3">
<h3 id="key-design-patterns">Key Design Patterns<a class="anchor" aria-label="anchor" href="#key-design-patterns"></a></h3>
<ol style="list-style-type: decimal"><li>Layouts are represented as matrices with width/height vectors</li>
<li>Layouts can be combined recursively using <code><a href="reference/lay_bind_col.html">lay_bind_col()</a></code> and <code><a href="reference/lay_bind_row.html">lay_bind_row()</a></code>
</li>
<li>GCD/SCM mathematics used for proper ratio scaling when combining</li>
</ol></div>
<div class="section level3">
<h3 id="deprecated-functions">Deprecated Functions<a class="anchor" aria-label="anchor" href="#deprecated-functions"></a></h3>
<p>Old naming convention functions are deprecated but still work: - <code><a href="reference/lay_new.html">layCreate()</a></code> → <code><a href="reference/lay_new.html">lay_new()</a></code> - <code><a href="reference/lay_set.html">laySet()</a></code> → <code><a href="reference/lay_set.html">lay_set()</a></code> - <code><a href="reference/lay_show.html">layShow()</a></code> → <code><a href="reference/lay_show.html">lay_show()</a></code> - <code><a href="reference/lay_grid.html">layGrid()</a></code> → <code><a href="reference/lay_grid.html">lay_grid()</a></code> - <code><a href="reference/lay_bind_col.html">layColBind()</a></code> → <code><a href="reference/lay_bind_col.html">lay_bind_col()</a></code> - <code><a href="reference/lay_bind_row.html">layRowBind()</a></code> → <code><a href="reference/lay_bind_row.html">lay_bind_row()</a></code> - <code><a href="reference/lay_split_field.html">laySplitField()</a></code> → <code><a href="reference/lay_split_field.html">lay_split_field()</a></code></p>
</div>
</div>
<div class="section level2">
<h2 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a></h2>
<p><strong>Required:</strong> - gridExtra, graphics, utils - RColorBrewer - officer (&gt;= 0.3.6) - flextable (&gt;= 0.5.6) - assertthat - rvg (&gt;= 0.2.2)</p>
<p><strong>Testing:</strong> - testthat, vdiffr, covr</p>
</div>
<div class="section level2">
<h2 id="common-tasks">Common Tasks<a class="anchor" aria-label="anchor" href="#common-tasks"></a></h2>
<div class="section level3">
<h3 id="adding-a-new-function">Adding a New Function<a class="anchor" aria-label="anchor" href="#adding-a-new-function"></a></h3>
<ol style="list-style-type: decimal"><li>Add function code in appropriate <code>R/*.R</code> file</li>
<li>Document with roxygen2 comments</li>
<li>Run <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code> to update NAMESPACE and man/</li>
<li>Add tests in <code>tests/testthat/</code>
</li>
<li>Run <code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">devtools::check()</a></code> to verify</li>
</ol></div>
<div class="section level3">
<h3 id="modifying-existing-functions">Modifying Existing Functions<a class="anchor" aria-label="anchor" href="#modifying-existing-functions"></a></h3>
<ol style="list-style-type: decimal"><li>Read the existing code and tests</li>
<li>Make changes in the R/ file</li>
<li>Update documentation if needed</li>
<li>Run existing tests to ensure no regressions</li>
<li>Add new tests for changed behavior</li>
</ol></div>
<div class="section level3">
<h3 id="working-with-powerpoint-functions">Working with PowerPoint Functions<a class="anchor" aria-label="anchor" href="#working-with-powerpoint-functions"></a></h3>
<p>PowerPoint functions use the <code>officer</code> package. Test files are in <code>tests/pptx/</code>. Use <code>expect_pptx_identical()</code> for comparing PowerPoint outputs.</p>
</div>
</div>
<div class="section level2">
<h2 id="cicd">CI/CD<a class="anchor" aria-label="anchor" href="#cicd"></a></h2>
<ul><li>
<strong>Travis CI</strong>: Tests on R devel, release, oldrel</li>
<li>
<strong>AppVeyor</strong>: Windows testing</li>
<li>
<strong>Codecov</strong>: Code coverage reporting</li>
</ul></div>
<div class="section level2">
<h2 id="code-style">Code Style<a class="anchor" aria-label="anchor" href="#code-style"></a></h2>
<ul><li>Use snake_case for new functions (e.g., <code><a href="reference/lay_new.html">lay_new()</a></code>, <code><a href="reference/phl_with_gg.html">phl_with_gg()</a></code>)</li>
<li>Prefix layout functions with <code>lay_</code>
</li>
<li>Prefix PowerPoint functions with <code>phl_</code>
</li>
<li>Include <code>@export</code> in roxygen2 for public functions</li>
<li>Use <code>@noRd</code> for internal helper functions</li>
</ul></div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>



      <footer><div class="copyright">
  <p></p><p>Developed by Zygmunt Zawadzki.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

